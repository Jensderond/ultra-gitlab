## Codebase Patterns
- Settings use `tauri-plugin-store` (JSON file), not SQLite. Add new fields by: adding store key const, load block in `load_settings()`, set call in `save_settings()`, field in `AppSettings` struct + Default impl.
- New command files in `src-tauri/src/commands/` need 3 registrations: pub mod + pub use in `mod.rs`, import + generate_handler! in `lib.rs`.
- Use `pub(crate)` visibility for helper functions shared between command modules (e.g., `load_settings`, `save_settings`, `settings_cache`).
- `#[serde(rename_all = "camelCase")]` on all DTOs sent to frontend.
- `AppError` has convenience constructors like `invalid_input_field()`, `not_found_with_id()`, etc.
- Companion server service: `services::companion_server` has `start_companion_server()`, `stop_companion_server()`, `is_companion_server_running()`.
- Frontend dist path: In dev mode, `CARGO_MANIFEST_DIR/../dist`; in prod, Tauri resource dir. Both checked via `index.html` existence.
- Transport layer: `src/services/transport.ts` detects Tauri vs browser via `window.__TAURI_INTERNALS__`. `tauri.ts` uses `transportInvoke` instead of direct `@tauri-apps/api` invoke. `isTauri` exported from `services/index.ts`.
- All `@tauri-apps/` imports should be dynamic — any new feature using Tauri APIs must follow this pattern.
- `tauriListen()` and `openExternalUrl()` in `transport.ts` handle Tauri vs browser seamlessly.
- Package manager: bun (not npm/yarn). Typecheck: `bunx tsc --noEmit`.
- GitLab API supports URL-encoded project paths instead of numeric project IDs: `/projects/group%2Fsubgroup%2Fproject/...`
- Route ordering in react-router: static routes (e.g., `/mrs/loading`) must be defined before dynamic routes (e.g., `/mrs/:id`).

---

## 2026-02-20 - US-001
- Merged branch `claude/add-playwright-testing-Q6qK6` into `ralph/pierre-diffs`
- Merge completed cleanly (auto-merged bun.lock and package.json)
- Files added: playwright.config.ts, e2e/ directory (fixtures: seed-data, seed.sql, tauri-mock, test-base; specs: mr-detail, mr-list, my-mrs, navigation), .github/workflows/playwright.yml
- All 28 Playwright tests pass, typecheck passes, bun install clean
- **Learnings for future iterations:**
  - Playwright tests use mock data from `e2e/fixtures/seed-data.ts` and `e2e/fixtures/tauri-mock.ts` — no real Tauri backend needed
  - Test base fixture at `e2e/fixtures/test-base.ts` provides the standard test setup
  - Follow patterns in existing specs (e.g., `e2e/mr-detail.spec.ts`) for navigating to pages
---
