# Ralph Progress Log
Started: Fri Feb 13 15:37:35 CET 2026

## Codebase Patterns
- All CSS variables are now unified in App.css :root (no more --kw-* duplicates)
- New unique variables: --bg-dim, --bg-winter, --text-fuji, --accent-pink/green/crystal/warm-yellow/ronin/orange/peach, --wave-glow, --wave-glow-strong
- Monaco theme is in src/components/Monaco/kanagawaTheme.ts as IStandaloneThemeData
- Tree-sitter syntax highlighting uses hardcoded hex in src/styles/syntax.css with .hl-{token} classes
- Settings type in src/types/index.ts, Theme type is currently 'light' | 'dark' | 'system'
- Always use `bunx tsc --noEmit` for typecheck, `bun` as package manager
- PipelinesPage.css mostly uses standard variables already (--bg-primary, --text-primary etc.), not --kw-* pattern

---

## 2026-02-13 - US-001
- Created ThemeDefinition interface in src/themes/types.ts covering all CSS variable groups
- Created Kanagawa Wave theme data in src/themes/kanagawa-wave.ts with values from App.css and MRDetailPage.css
- Created barrel export in src/themes/index.ts
- Files changed: src/themes/types.ts, src/themes/kanagawa-wave.ts, src/themes/index.ts (all new)
- **Learnings for future iterations:**
  - App.css :root has the "standard" CSS variables (--bg-primary, --text-primary, etc.)
  - MRDetailPage.css :root has --kw-* duplicates that map to the same values
  - Monaco kanagawaTheme.ts uses hex without '#' prefix for token foreground colors
  - syntax.css uses different colors than Kanagawa palette (GitHub-style colors), these will need updating
---

## 2026-02-13 - US-002
- Consolidated all --kw-* CSS variables into the unified App.css :root set
- Added new standard variables: --bg-dim, --bg-winter, --text-fuji, --accent-pink, --accent-green, --accent-crystal, --accent-warm-yellow, --accent-ronin, --accent-orange, --accent-peach, --wave-glow, --wave-glow-strong
- Replaced all --kw-* usages across 6 CSS files: MRDetailPage.css, MRListPage.css, Settings.css, MyMRsPage.css, MyMRDetailPage.css, PipelinesPage.css
- Removed duplicate :root blocks from MRDetailPage.css and MRListPage.css
- Removed duplicate @import for Google Fonts from MRDetailPage.css
- Files changed: src/App.css, src/pages/MRDetailPage.css, src/pages/MRListPage.css, src/pages/Settings.css, src/pages/MyMRsPage.css, src/pages/MyMRDetailPage.css, src/pages/PipelinesPage.css
- **Learnings for future iterations:**
  - The --kw-* → standard variable mapping: bg-dark→bg-secondary, bg-default→bg-primary, bg-dim→bg-dim(new), bg-highlight→bg-tertiary, bg-gutter→gutter-bg, fg-default→text-primary, fg-dim→text-secondary, fg-muted→text-tertiary, fg-comment→text-muted, wave-blue→accent-color, wave-cyan→accent-hover, sumi-ink→border-color, fuji-gray→text-fuji(new), autumn-red→error-color, spring-green→success-color, carpYellow→warning-color
  - MyMRsPage.css and MyMRDetailPage.css use fallback syntax: `var(--kw-name, #fallback)` — need to match this pattern in replace
  - PipelinesPage.css had nested fallback: `var(--kw-bg-default, var(--bg-primary))` — simplify to just `var(--bg-primary)`
  - Some CSS files (PipelinesPage.css) used hardcoded hex instead of variables in pseudo-elements — these weren't touched as they match the final values
---
